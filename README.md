# にじさんじJP Vtuber推薦システム

このプロジェクトは、にじさんじJPライバーの特性を分析し、ユーザーの好みに基づいて最適なライバーを推薦するWebアプリケーションです。

## 機能

- **ライバー分析**: にじさんじJPライバーの性質をクラスタリングして分析
- **推薦システム**: ユーザーの好みに基づいてライバーを推薦
- **モダンUI**: TailwindCSSとAlpine.jsを使用したレスポンシブデザイン
- **インタラクティブ**: リアルタイムでの推薦結果表示

## 技術スタック

### バックエンド
- **Python 3.9+**
- **Flask**: Webアプリケーションフレームワーク
- **scikit-learn**: 機械学習（クラスタリング）
- **pandas**: データ操作
- **numpy**: 数値計算

### フロントエンド
- **HTML/CSS**
- **TailwindCSS**: スタイリング
- **Alpine.js**: フロントエンドJavaScriptフレームワーク

## インストール・セットアップ

### 前提条件
- Python 3.9以上
- uv（Pythonパッケージマネージャー）

### セットアップ手順

1. リポジトリをクローン
```bash
git clone https://github.com/forblgac/nijisanji-vtuber-recommend.git
cd nijisanji-vtuber-recommend
```

2. Python依存関係をインストール
```bash
uv sync
```

3. MCPサーバーをセットアップ（オプション）
```bash
cd mcp-server
npm install
npm run build
cd ..
```

4. アプリケーションを起動
```bash
uv run python app.py
```

5. ブラウザでアクセス
```
http://localhost:8080
```

### MCPサーバーについて

MCPサーバーはオプションの機能です。基本的な推薦システム（10名のライバー）は、MCPサーバーなしでも動作します。

MCPサーバーを使用すると、にじさんじwikiから最新のライバー情報（173名+）を取得できます。

## 使用方法

### 1. 好みの選択
Webアプリケーションで以下の項目を選択できます：

- **配信ジャンル**: 雑談、ゲーム、歌、ASMR、お絵描き、企画
- **ゲームジャンル**: FPS、RPG、アクション、パズルなど15種類
- **配信時間**: 昼、夕方、夜
- **性別**: 女性、男性、どちらでも
- **声質**: 高音、中音、低音、特殊、どれでも
- **性格**: 25種類の性格特性から選択

### 2. 推薦結果
選択した条件に基づいて、最適なライバーが推薦されます。各ライバーの情報には以下が含まれます：

- 基本情報（性別、声質、配信時間、登録者数）
- 配信ジャンル
- 性格特性
- スキル評価（歌唱、ゲーム、トーク）

## プロジェクト構造

```
recommend_vtuber/
├── app.py                 # メインアプリケーション
├── data/
│   ├── __init__.py
│   └── vtuber_data.py     # データ管理・クラスタリング
├── templates/
│   └── index.html         # メインHTMLテンプレート
├── pyproject.toml         # プロジェクト設定
├── uv.lock               # 依存関係ロック
└── README.md             # このファイル
```

## データについて

### ライバーデータ
現在、以下の10名のにじさんじJPライバーのサンプルデータを使用しています：

1. 月ノ美兎
2. 樋口楓
3. 叶
4. リゼ・ヘルエスタ
5. 椎名唯華
6. 剣持刀也
7. 白雪巴
8. 文野環
9. でびでび・でびる
10. 社築

### 特徴量
各ライバーは以下の特徴量で分析されます：

- **数値特徴量**: 登録者数、平均視聴者数、配信頻度、コラボ頻度、各種スキル
- **カテゴリカル特徴量**: 性別、声質、配信時間
- **バイナリ特徴量**: 配信ジャンル、ゲームジャンル、性格特性（ワンホットエンコーディング）

### クラスタリング
K-meansクラスタリング（k=4）を使用してライバーを4つのグループに分類し、各グループの特徴を分析しています。

## 推薦アルゴリズム

推薦システムは重み付きスコアリング方式を使用：

- 配信ジャンルマッチ: +3点/マッチ
- ゲームジャンルマッチ: +2点/マッチ
- 配信時間マッチ: +5点
- 性別マッチ: +2点
- 声質マッチ: +3点
- 性格マッチ: +2点/マッチ

## 開発・拡張

### 新しいライバーの追加
`data/vtuber_data.py`の`create_sample_vtuber_data()`関数でライバーデータを追加できます。

### 推薦アルゴリズムの調整
`app.py`の`calculate_recommendations()`関数で重み付けを調整できます。

### UIの改善
`templates/index.html`でUI/UXを改善できます。

## MCP統合機能

### にじさんじwiki MCPサーバー

このプロジェクトには、にじさんじ非公式wikiからライバー情報を自動取得するMCPサーバーが含まれています。

#### 機能
- **ライバー一覧取得**: wikiからライバー名一覧を取得
- **詳細情報取得**: 個別ライバーの詳細情報を取得
- **自動データ補完**: 欠損データの推定・補完

#### 使用方法
1. Webアプリケーションの「最新ライバーデータを取得」ボタンをクリック
2. MCPサーバーがwikiから最新データを取得
3. 推薦システムのデータベースが自動更新

#### MCPサーバーの構成
```
/Users/light/Documents/Cline/MCP/nijisanji-wiki-server/
├── src/index.ts          # メインサーバーコード
├── build/index.js        # コンパイル済みファイル
├── package.json          # 依存関係
└── node_modules/         # Node.jsモジュール
```

#### MCPツール
- `get_vtuber_list`: ライバー一覧の取得
- `get_vtuber_details`: 個別ライバー詳細の取得
- `get_multiple_vtuber_details`: 複数ライバーの一括取得

## 今後の改善点

- [x] より多くのライバーデータの追加（MCPサーバー実装済み）
- [ ] より高度な推薦アルゴリズム（協調フィルタリングなど）
- [ ] ユーザー評価機能
- [ ] 配信情報の取得・表示
- [ ] データベース化
- [ ] ユーザー認証機能
- [ ] モバイル対応の改善
- [ ] MCPサーバーの自動実行・スケジューリング
- [ ] データ取得の高速化・並列処理

## ライセンス

このプロジェクトはMITライセンスの下で公開されています。

## 注意事項

このプロジェクトは教育・学習目的で作成されたもので、にじさんじ公式とは関係ありません。ライバーの情報は公開情報をもとにしたサンプルデータです。
